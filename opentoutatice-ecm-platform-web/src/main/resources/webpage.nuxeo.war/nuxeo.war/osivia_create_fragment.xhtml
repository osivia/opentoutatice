<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:nxl="http://nuxeo.org/nxforms/layout"
    xmlns:nxh="http://nuxeo.org/nxweb/html"
    xmlns:nxd="http://nuxeo.org/nxweb/document"
    xmlns:nxu="http://nuxeo.org/nxweb/util"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jstl/core">

<head>
    <meta charset="utf-8"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    
    <link href="#{baseURL}css/fragments-popup.min.css" type="text/css"
        rel="stylesheet" />
    <link href="#{baseURL}css/glyphicons/css/glyphicons.css" type="text/css"
        rel="stylesheet" />
     <link href="#{baseURL}css/toutatice-popup.min.css" type="text/css"
        rel="stylesheet" />
    
    <script src="#{baseURL}javax.faces.resource/jsf.js.faces?ln=javax.faces"
        type="text/javascript" />
    <script src="#{baseURL}scripts/images-links.js" type="text/javascript" />
    <script src="#{baseURL}scripts/icons.js" type="text/javascript" />
    <script src="#{baseURL}scripts/forms-errors-manager.js" type="text/javascript" />
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="form-group">

                <h3>
                    <h:outputFormat
                        value="#{messages['osivia.views.create.fragment.title']}">
                    </h:outputFormat>
                </h3>
            </div>

            <h:form id="fragments_create_form" class="form form-horizontal"
                role="form">
                <div class="list-group">

                    <c:forEach items="#{config.fragmentTypes}" var="conf">

                        <h:commandLink
                            action="#{fragmentBean.dispatchCreation(conf.wconf.code, conf.wconf.code2)}"
                            class="list-group-item">

                            <c:choose>
                                <c:when test="#{not empty conf.wconf.glyphicon}">
                                    <i class="glyphicons #{conf.wconf.glyphicon}"></i>
                                </c:when>
                                <c:otherwise>
                                    <i class="glyphicons halflings credit_card"></i>
                                </c:otherwise>
                            </c:choose>

                            <h:outputText value="#{conf.title}" />


                        </h:commandLink>

                    </c:forEach>

                </div>

                <h:inputHidden name="fromUrl" value="#{pageBean.fromUrl}" />
                <h:inputHidden name="region" value="#{fragmentBean.region}" />

            </h:form>
        </div>
    </div>
</body>

</html>